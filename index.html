<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Food Waste Tracker</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
    :root {
        --primary-color: #38b000;
        --primary-soft: rgba(56, 176, 0, 0.15);
        --accent-color: #ffd500;
        --danger-soft: rgba(220, 53, 69, 0.12);
        --card-bg: rgba(255, 255, 255, 0.18);
        --card-border: rgba(255, 255, 255, 0.35);
        --text-dark: #122023;
    }

    body {
        min-height: 100vh;
        background: radial-gradient(circle at top left, #e0ffcd 0, #c7f9cc 20%, #80ed99 50%, #57cc99 80%, #22577a 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        color: var(--text-dark);
    }

    .app-shell {
        max-width: 1100px;
        width: 100%;
        padding: 2rem 1.25rem;
    }

    .glass-panel {
        background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.55), rgba(255, 255, 255, 0.35));
        border-radius: 24px;
        box-shadow:
            0 24px 40px rgba(0, 0, 0, 0.15),
            0 0 0 1px rgba(255, 255, 255, 0.6);
        padding: 2.25rem 2rem;
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
    }

    @media (max-width: 768px) {
        .glass-panel {
            padding: 1.75rem 1.25rem;
        }
    }

    .app-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        margin-bottom: 1rem;
    }

    .brand-group {
        display: flex;
        align-items: center;
        gap: 0.85rem;
    }

    .brand-avatar {
        width: 48px;
        height: 48px;
        border-radius: 18px;
        background: conic-gradient(from 160deg, #38b000, #70e000, #9ef01a, #008000, #38b000);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #f7fff3;
        font-size: 1.5rem;
        box-shadow: 0 14px 30px rgba(0, 0, 0, 0.2);
    }

    .brand-text h1 {
        font-size: 1.6rem;
        font-weight: 700;
        letter-spacing: 0.02em;
        margin: 0;
        display: flex;
        align-items: center;
        gap: 0.4rem;
    }

    .brand-text h1 span {
        font-size: 1.4rem;
    }

    .brand-text p {
        margin: 0;
        font-size: 0.9rem;
        opacity: 0.75;
    }

    .pill-badge {
        border-radius: 999px;
        background: rgba(18, 32, 35, 0.07);
        padding: 0.45rem 0.85rem;
        font-size: 0.8rem;
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
    }

    .pill-badge i {
        color: var(--primary-color);
    }

    /* Nav tabs */
    .nav-tabs {
        border-bottom: none;
        margin-bottom: 1.2rem;
    }

    .nav-tabs .nav-link {
        border: none;
        border-radius: 999px;
        padding: 0.55rem 1rem;
        font-size: 0.85rem;
        color: rgba(18, 32, 35, 0.7);
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
    }

    .nav-tabs .nav-link i {
        font-size: 0.95rem;
    }

    .nav-tabs .nav-link.active {
        background: rgba(255, 255, 255, 0.9);
        color: #122023;
        box-shadow: 0 8px 18px rgba(15, 23, 42, 0.15);
    }

    .nav-tabs .nav-link:hover {
        background: rgba(255, 255, 255, 0.6);
    }

    .summary-bar {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        margin-bottom: 1.4rem;
    }

    .summary-chip {
        flex: 1 1 140px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 999px;
        padding: 0.55rem 0.9rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 0.86rem;
        border: 1px solid rgba(255, 255, 255, 0.9);
    }

    .summary-chip span.label {
        opacity: 0.7;
    }

    .summary-chip span.value {
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
    }

    .summary-chip--expiring span.value {
        color: #d61f45;
    }

    .summary-chip--saved span.value {
        color: var(--primary-color);
    }

    .summary-chip--total span.value {
        color: #084298;
    }

    /* Form card */
    .form-card {
        background: var(--card-bg);
        border-radius: 18px;
        padding: 1.5rem 1.3rem;
        border: 1px solid var(--card-border);
        margin-bottom: 1.6rem;
        position: relative;
        overflow: hidden;
    }

    .form-card::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at top right, rgba(56, 176, 0, 0.12), transparent 58%);
        pointer-events: none;
    }

    .form-card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }

    .form-card-header h2 {
        font-size: 1.1rem;
        margin: 0;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .form-card-header h2 i {
        color: var(--primary-color);
    }

    .form-card-header small {
        font-size: 0.8rem;
        opacity: 0.7;
    }

    .form-floating > label {
        color: #6c757d;
    }

    .btn-primary {
        background: linear-gradient(135deg, #38b000, #70e000);
        border: none;
        border-radius: 999px;
        font-weight: 600;
        box-shadow: 0 10px 20px rgba(56, 176, 0, 0.35);
        transition: transform 0.09s ease, box-shadow 0.09s ease, filter 0.15s ease;
    }

    .btn-primary:hover {
        filter: brightness(1.05);
        transform: translateY(-1px);
        box-shadow: 0 12px 22px rgba(56, 176, 0, 0.4);
    }

    .btn-primary:active {
        transform: translateY(1px);
        box-shadow: 0 6px 14px rgba(56, 176, 0, 0.35);
    }

    /* Item cards */
    #itemList {
        margin-top: 0.5rem;
    }

    .food-card {
        border-radius: 16px;
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(15, 23, 42, 0.08);
        box-shadow: 0 12px 28px rgba(15, 23, 42, 0.18);
        padding: 1rem 1rem 0.9rem;
        position: relative;
        overflow: hidden;
        transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
    }

    .food-card::before {
        content: "";
        position: absolute;
        inset: -40%;
        background: radial-gradient(circle at top left, rgba(56, 176, 0, 0.09), transparent 55%);
        opacity: 0.9;
        pointer-events: none;
    }

    .food-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 16px 34px rgba(15, 23, 42, 0.22);
    }

    .food-card-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.6rem;
        margin-bottom: 0.4rem;
    }

    .food-name {
        font-weight: 600;
        font-size: 1rem;
        display: flex;
        align-items: center;
        gap: 0.45rem;
    }

    .food-name i {
        color: #f4a261;
    }

    .chip-status {
        border-radius: 999px;
        padding: 0.2rem 0.6rem;
        font-size: 0.72rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.03em;
        display: inline-flex;
        align-items: center;
        gap: 0.3rem;
    }

    .chip-status.ok {
        background: rgba(56, 176, 0, 0.08);
        color: #166534;
    }

    .chip-status.soon {
        background: var(--danger-soft);
        color: #b91c1c;
    }

    .chip-status.expired {
        background: rgba(15, 23, 42, 0.08);
        color: #111827;
    }

    .food-meta {
        font-size: 0.84rem;
        opacity: 0.8;
        display: flex;
        flex-direction: column;
        gap: 0.15rem;
        margin-bottom: 0.5rem;
    }

    .days-pill {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        border-radius: 999px;
        padding: 0.18rem 0.6rem;
        font-size: 0.8rem;
        font-weight: 600;
    }

    .days-pill.safe {
        background: var(--primary-soft);
        color: #166534;
    }

    .days-pill.warn {
        background: var(--danger-soft);
        color: #c1121f;
    }

    .days-pill.expired {
        background: rgba(15, 23, 42, 0.08);
        color: #111827;
    }

    .card-footer-actions {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 0.3rem;
    }

    .btn-delete {
        border-radius: 999px;
        padding: 0.25rem 0.75rem;
        font-size: 0.8rem;
        border: none;
        background: rgba(220, 53, 69, 0.08);
        color: #b22234;
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        transition: background 0.12s ease, transform 0.08s ease;
    }

    .btn-delete:hover {
        background: rgba(220, 53, 69, 0.15);
        transform: translateY(-1px);
    }

    .empty-state {
        text-align: center;
        padding: 2rem 1.25rem 1.25rem;
        color: rgba(18, 32, 35, 0.75);
    }

    .empty-icon {
        width: 70px;
        height: 70px;
        border-radius: 24px;
        background: radial-gradient(circle at top, #fff, #f1f5f9);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        font-size: 2rem;
        color: #f4a261;
        box-shadow: 0 16px 28px rgba(15, 23, 42, 0.24);
    }

    .empty-state h3 {
        font-size: 1.05rem;
        margin-bottom: 0.4rem;
        font-weight: 600;
    }

    .empty-state p {
        font-size: 0.9rem;
        margin-bottom: 0;
    }

    .expiring-soon-card {
        position: relative;
    }

    .expiring-soon-card::after {
        content: "Expiring soon";
        position: absolute;
        right: 0.85rem;
        top: 0.85rem;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        color: #9f1239;
        background: rgba(248, 113, 113, 0.12);
        border-radius: 999px;
        padding: 0.14rem 0.55rem;
    }

    /* Overview & Tips sections */
    .info-card {
        background: rgba(255, 255, 255, 0.78);
        border-radius: 18px;
        padding: 1.5rem 1.25rem;
        border: 1px solid rgba(148, 163, 184, 0.3);
        margin-bottom: 1.2rem;
    }

    .info-card h3 {
        font-size: 1.05rem;
        margin-bottom: 0.75rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .info-card h3 i {
        color: var(--primary-color);
    }

    .info-card p {
        font-size: 0.9rem;
        margin-bottom: 0.4rem;
    }

    .info-list {
        list-style: none;
        padding-left: 0;
        margin-bottom: 0;
        font-size: 0.9rem;
    }

    .info-list li {
        display: flex;
        align-items: flex-start;
        gap: 0.45rem;
        margin-bottom: 0.3rem;
    }

    .info-dot {
        margin-top: 0.35rem;
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: var(--primary-color);
        flex-shrink: 0;
    }

    .small-pill {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        border-radius: 999px;
        padding: 0.18rem 0.55rem;
        font-size: 0.78rem;
        background: rgba(148, 163, 184, 0.15);
        color: #0f172a;
    }
</style>
</head>

<body>
<div class="app-shell">
    <div class="glass-panel">
        <div class="app-header">
            <div class="brand-group">
                <div class="brand-avatar">
                    <i class="fa-solid fa-seedling"></i>
                </div>
                <div class="brand-text">
                    <h1>
                        Food Waste Tracker
                        <span>üçè</span>
                    </h1>
                    <p>Stay ahead of expiry dates and rescue more food.</p>
                </div>
            </div>
            <div>
                <span class="pill-badge">
                    <i class="fa-solid fa-layer-group"></i>
                    Multi-page experience
                </span>
            </div>
        </div>

        <!-- Tabs (simulated pages) -->
        <ul class="nav nav-tabs" id="pageTabs">
            <li class="nav-item">
                <button class="nav-link active" data-page="tracker">
                    <i class="fa-solid fa-list-check"></i>
                    Tracker
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-page="overview">
                    <i class="fa-solid fa-chart-pie"></i>
                    Overview
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-page="tips">
                    <i class="fa-solid fa-lightbulb"></i>
                    Tips
                </button>
            </li>
        </ul>

        <!-- Page: Tracker -->
        <div id="page-tracker" class="page-view">
            <div class="summary-bar" id="summaryBar">
                <div class="summary-chip summary-chip--total">
                    <span class="label">Items tracked</span>
                    <span class="value" id="totalItems">
                        <i class="fa-regular fa-square-check"></i>
                        <span>0</span>
                    </span>
                </div>
                <div class="summary-chip summary-chip--expiring">
                    <span class="label">Expiring in 3 days</span>
                    <span class="value" id="expiringSoon">
                        <i class="fa-solid fa-triangle-exclamation"></i>
                        <span>0</span>
                    </span>
                </div>
                <div class="summary-chip summary-chip--saved">
                    <span class="label">Expired</span>
                    <span class="value" id="expiredCount">
                        <i class="fa-regular fa-clock"></i>
                        <span>0</span>
                    </span>
                </div>
            </div>

            <div class="form-card">
                <div class="form-card-header">
                    <h2>
                        <i class="fa-solid fa-plus"></i>
                        Add food item
                    </h2>
                    <small>Tip: add items as you unpack groceries.</small>
                </div>
                <form onsubmit="event.preventDefault(); addItem();">
                    <div class="row g-3 align-items-end">
                        <div class="col-md-5">
                            <div class="form-floating">
                                <input id="foodName" class="form-control" placeholder="Food name">
                                <label for="foodName">
                                    <i class="fa-regular fa-rectangle-list me-1"></i>
                                    Food name
                                </label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-floating">
                                <input id="expiryDate" type="date" class="form-control">
                                <label for="expiryDate">
                                    <i class="fa-regular fa-calendar me-1"></i>
                                    Expiry date
                                </label>
                            </div>
                        </div>
                        <div class="col-md-3 d-flex justify-content-md-end">
                            <button type="submit" class="btn btn-primary w-100">
                                <i class="fa-solid fa-circle-plus me-2"></i>
                                Add item
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- List Items -->
            <div id="itemList" class="row g-3"></div>
        </div>

        <!-- Page: Overview -->
        <div id="page-overview" class="page-view" style="display:none;">
            <div class="info-card">
                <h3>
                    <i class="fa-solid fa-gauge-high"></i>
                    Your food health snapshot
                </h3>
                <p id="overviewSummary">You currently have no items tracked. Add items on the Tracker page to see insights here.</p>
            </div>
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="info-card">
                        <h3>
                            <i class="fa-solid fa-circle-nodes"></i>
                            Quick breakdown
                        </h3>
                        <ul class="info-list">
                            <li>
                                <span class="info-dot"></span>
                                <span><strong>Total items:</strong> <span id="ovTotal">0</span></span>
                            </li>
                            <li>
                                <span class="info-dot" style="background:#f97316;"></span>
                                <span><strong>Expiring soon (‚â§3 days):</strong> <span id="ovExpiring">0</span></span>
                            </li>
                            <li>
                                <span class="info-dot" style="background:#ef4444;"></span>
                                <span><strong>Already expired:</strong> <span id="ovExpired">0</span></span>
                            </li>
                        </ul>
                        <p class="mt-3 mb-0">
                            <span class="small-pill">
                                <i class="fa-solid fa-bullseye me-1"></i>
                                Aim to keep ‚ÄúExpiring soon‚Äù under 20% of total items.
                            </span>
                        </p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="info-card">
                        <h3>
                            <i class="fa-solid fa-clock-rotate-left"></i>
                            Upcoming focus
                        </h3>
                        <ul class="info-list" id="ovUpcomingList">
                            <li>
                                <span class="info-dot" style="background:#f97316;"></span>
                                <span>No upcoming items. You‚Äôre all caught up!</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page: Tips -->
        <div id="page-tips" class="page-view" style="display:none;">
            <div class="info-card">
                <h3>
                    <i class="fa-solid fa-lightbulb"></i>
                    Smart food-saving habits
                </h3>
                <ul class="info-list">
                    <li>
                        <span class="info-dot"></span>
                        <span>Sort your fridge by expiry date: keep items that expire soonest at eye level.</span>
                    </li>
                    <li>
                        <span class="info-dot"></span>
                        <span>Use ‚Äúimperfect‚Äù veggies in soups, stews or smoothies instead of throwing them out.</span>
                    </li>
                    <li>
                        <span class="info-dot"></span>
                        <span>Freeze leftovers in labeled containers with dates so they don‚Äôt get forgotten.</span>
                    </li>
                    <li>
                        <span class="info-dot"></span>
                        <span>Plan one ‚Äúuse-it-up‚Äù meal each week that focuses on items expiring soon.</span>
                    </li>
                </ul>
            </div>
            <div class="info-card">
                <h3>
                    <i class="fa-solid fa-mobile-screen-button"></i>
                    How to use this app
                </h3>
                <ul class="info-list">
                    <li>
                        <span class="info-dot"></span>
                        <span>Add new items whenever you buy groceries or cook meals you want to track.</span>
                    </li>
                    <li>
                        <span class="info-dot"></span>
                        <span>Check the Tracker page before cooking to prioritize items expiring soon.</span>
                    </li>
                    <li>
                        <span class="info-dot"></span>
                        <span>Use the Overview page to get a quick sense of how well you are managing food waste.</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
    let items = JSON.parse(localStorage.getItem("foodItems")) || [];

    function saveData() {
        localStorage.setItem("foodItems", JSON.stringify(items));
    }

    function daysLeft(date) {
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const exp = new Date(date);
        exp.setHours(0, 0, 0, 0);
        const diff = Math.ceil((exp - today) / (1000 * 3600 * 24));
        return diff;
    }

    function addItem() {
        const nameInput = document.getElementById("foodName");
        const expiryInput = document.getElementById("expiryDate");
        const name = nameInput.value.trim();
        const expiry = expiryInput.value;

        if (!name || !expiry) {
            alert("Please fill in both the food name and expiry date.");
            return;
        }

        items.push({ name, expiry });
        saveData();
        displayItems();
    }

    function deleteItem(index) {
        items.splice(index, 1);
        saveData();
        displayItems();
    }

    function updateSummaryAndOverview() {
        const total = items.length;
        let expiring = 0;
        let expired = 0;

        const now = new Date();
        items.forEach(item => {
            const d = daysLeft(item.expiry);
            if (d <= 3 && d >= 0) {
                expiring += 1;
            } else if (d < 0) {
                expired += 1;
            }
        });

        // Tracker summary
        document.querySelector("#totalItems span:last-child").textContent = total;
        document.querySelector("#expiringSoon span:last-child").textContent = expiring;
        document.querySelector("#expiredCount span:last-child").textContent = expired;

        // Overview page
        document.getElementById("ovTotal").textContent = total;
        document.getElementById("ovExpiring").textContent = expiring;
        document.getElementById("ovExpired").textContent = expired;

        const overviewText = total === 0
            ? "You currently have no items tracked. Add items on the Tracker page to see insights here."
            : `You are tracking ${total} item${total === 1 ? "" : "s"} ‚Äî ${expiring} expiring soon and ${expired} already expired. Try to use up the ‚Äúexpiring soon‚Äù items next.`;
        document.getElementById("overviewSummary").textContent = overviewText;

        const upcomingList = document.getElementById("ovUpcomingList");
        upcomingList.innerHTML = "";
        const upcoming = items
            .map(item => ({ ...item, d: daysLeft(item.expiry) }))
            .filter(it => it.d >= 0)
            .sort((a, b) => a.d - b.d)
            .slice(0, 3);

        if (upcoming.length === 0) {
            upcomingList.innerHTML = `
                <li>
                    <span class="info-dot" style="background:#22c55e;"></span>
                    <span>No upcoming items. You‚Äôre all caught up!</span>
                </li>
            `;
        } else {
            upcoming.forEach(it => {
                const label = it.d === 0 ? "Today" : `${it.d} day${it.d === 1 ? "" : "s"}`;
                upcomingList.innerHTML += `
                    <li>
                        <span class="info-dot" style="background:#f97316;"></span>
                        <span><strong>${it.name}</strong> in ${label} (expires on ${it.expiry}).</span>
                    </li>
                `;
            });
        }
    }

    function displayItems() {
        const container = document.getElementById("itemList");
        container.innerHTML = "";

        if (!items.length) {
            container.innerHTML = `
                <div class="col-12">
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fa-solid fa-bowl-food"></i>
                        </div>
                        <h3>No items yet</h3>
                        <p>Add your first item above to start preventing food waste.</p>
                    </div>
                </div>
            `;
            updateSummaryAndOverview();
            return;
        }

        items.sort((a, b) => new Date(a.expiry) - new Date(b.expiry));

        items.forEach((item, index) => {
            const days = daysLeft(item.expiry);
            let statusClass = "ok";
            let statusLabel = "Fresh";
            let daysPillClass = "safe";
            let expiringSoonClass = "";

            if (days < 0) {
                statusClass = "expired";
                statusLabel = "Expired";
                daysPillClass = "expired";
            } else if (days <= 3) {
                statusClass = "soon";
                statusLabel = "Use soon";
                daysPillClass = "warn";
                expiringSoonClass = "expiring-soon-card";
            }

            const daysText = days < 0 ? `${Math.abs(days)} days ago` :
                             days === 0 ? "Today" :
                             `${days} day${days === 1 ? "" : "s"}`;

            container.innerHTML += `
                <div class="col-md-4 col-sm-6">
                    <div class="food-card ${expiringSoonClass}">
                        <div class="food-card-header">
                            <div class="food-name">
                                <i class="fa-solid fa-apple-whole"></i>
                                <span>${item.name}</span>
                            </div>
                            <span class="chip-status ${statusClass}">
                                ${statusLabel}
                            </span>
                        </div>
                        <div class="food-meta">
                            <span><strong>Expiry:</strong> ${item.expiry}</span>
                            <span class="days-pill ${daysPillClass}">
                                <i class="fa-regular fa-hourglass-half"></i>
                                ${daysText}
                            </span>
                        </div>
                        <div class="card-footer-actions">
                            <button class="btn-delete" onclick="deleteItem(${index})">
                                <i class="fa-regular fa-trash-can"></i>
                                Remove
                            </button>
                        </div>
                    </div>
                </div>
            `;
        });

        updateSummaryAndOverview();
        document.getElementById("foodName").value = "";
        document.getElementById("expiryDate").value = "";
    }

    // Simple tab/page switching
    document.querySelectorAll("#pageTabs .nav-link").forEach(btn => {
        btn.addEventListener("click", () => {
            document.querySelectorAll("#pageTabs .nav-link").forEach(b => b.classList.remove("active"));
            btn.classList.add("active");

            const page = btn.getAttribute("data-page");
            document.querySelectorAll(".page-view").forEach(view => {
                view.style.display = "none";
            });
            document.getElementById("page-" + page).style.display = "block";
        });
    });

    displayItems();
</script>

</body>
</html>
